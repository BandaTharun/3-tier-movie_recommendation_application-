{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{LinkContainer}from\"react-router-bootstrap\";import{Container,Row,Col,Nav}from\"react-bootstrap\";import Footer from\"./Footer\";import Myratingscreen from\"./myratingscreen\";import myratings from\"./fetchMyRatingdata\";import movies_data from\"./fetchmoviesdata\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Myratings(){const rating=myratings();const movies=movies_data();const usermovieIds=rating.map(item=>item.movie);const userratings=rating.map(item=>item.rating);const[Successtoken,setSuccesstoken]=useState(\"\");// Declare state variable\nuseEffect(()=>{const accessToken=localStorage.getItem(\"accessToken\");if(accessToken){// Set the success token value\nsetSuccesstoken(accessToken);}else{// Display message to the user if not logged in\nconsole.log(\"You haven't been logged in.\");}},[]);function getMovieDetails(usermovieIds){return usermovieIds.map(movieId=>{const movie=movies.find(movie=>movie.id===movieId);return movie?movie:\"Movie with ID \".concat(movieId,\" not found\");});}const usermovieDetails=getMovieDetails(usermovieIds);// Zip usermovieDetails with userratings\nconst zippedData=usermovieDetails.map((movie,index)=>({movie,rating:userratings[index]}));return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:Successtoken?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"MyRatings\"}),/*#__PURE__*/_jsx(Row,{children:zippedData.map(_ref=>{let{movie,rating}=_ref;return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(Myratingscreen,{product:movie,rating:rating})},movie.id);})})]}),/*#__PURE__*/_jsx(Footer,{}),\" \"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your data wasn't present in your Database. To save your movie Ratings and showcase them, you need to be a registered and logged-in user.\"}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/login\",children:/*#__PURE__*/_jsxs(Nav.Link,{className:\"navbar-link active\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\" Click Here To Login \"}),\" \"]})})]})});}export default Myratings;","map":{"version":3,"names":["React","useEffect","useState","LinkContainer","Container","Row","Col","Nav","Footer","Myratingscreen","myratings","movies_data","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Myratings","rating","movies","usermovieIds","map","item","movie","userratings","Successtoken","setSuccesstoken","accessToken","localStorage","getItem","console","log","getMovieDetails","movieId","find","id","concat","usermovieDetails","zippedData","index","className","children","_ref","sm","md","lg","xl","product","to","Link"],"sources":["/app/src/components/Myratings.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Container, Row, Col, Nav } from \"react-bootstrap\";\nimport Footer from \"./Footer\";\nimport Myratingscreen from \"./myratingscreen\";\nimport myratings from \"./fetchMyRatingdata\";\nimport movies_data from \"./fetchmoviesdata\";\n\nfunction Myratings() {\n  const rating = myratings();\n  const movies = movies_data();\n\n  const usermovieIds = rating.map((item) => item.movie);\n  const userratings = rating.map((item) => item.rating);\n\n  const [Successtoken, setSuccesstoken] = useState(\"\"); // Declare state variable\n\n  useEffect(() => {\n    const accessToken = localStorage.getItem(\"accessToken\");\n\n    if (accessToken) {\n      // Set the success token value\n      setSuccesstoken(accessToken);\n    } else {\n      // Display message to the user if not logged in\n      console.log(\"You haven't been logged in.\");\n    }\n  }, []);\n\n  function getMovieDetails(usermovieIds) {\n    return usermovieIds.map((movieId) => {\n      const movie = movies.find((movie) => movie.id === movieId);\n      return movie ? movie : `Movie with ID ${movieId} not found`;\n    });\n  }\n\n  const usermovieDetails = getMovieDetails(usermovieIds);\n\n  // Zip usermovieDetails with userratings\n  const zippedData = usermovieDetails.map((movie, index) => ({\n    movie,\n    rating: userratings[index],\n  }));\n\n  return (\n    <div className=\"text-center mt-5\">\n      {Successtoken ? (\n        <>\n          <Container>\n            <br />\n            <h1>MyRatings</h1>\n            <Row>\n              {zippedData.map(({ movie, rating }) => (\n                <Col key={movie.id} sm={12} md={6} lg={4} xl={3}>\n                  <Myratingscreen product={movie} rating={rating} />\n                </Col>\n              ))}\n            </Row>\n          </Container>\n          <Footer /> {/* Assuming Footer is imported and declared somewhere */}\n        </>\n      ) : (\n        <>\n          <h2>\n            Your data wasn't present in your Database. To save your movie Ratings and showcase them, you need to be a registered and logged-in user.\n          </h2>\n          <LinkContainer to=\"/login\">\n            <Nav.Link className=\"navbar-link active\">\n              <h5> Click Here To Login </h5>{\" \"}\n            </Nav.Link>\n          </LinkContainer>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default Myratings;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}