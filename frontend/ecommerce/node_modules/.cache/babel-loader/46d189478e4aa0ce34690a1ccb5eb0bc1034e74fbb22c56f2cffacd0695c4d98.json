{"ast":null,"code":"import React from 'react';\nimport axios from 'axios';\nconst [tocken, setToken] = useState('');\nuseEffect(() => {\n  const accessToken = localStorage.getItem(\"accessToken\");\n  if (accessToken) {\n    // Set the success token value\n    setToken(accessToken);\n  } else {\n    // Display message to the user if not logged in\n    console.log(\"You haven't been logged in.\");\n  }\n}, []);\nexport const addMovie = (movieTitle, movieGenre, imageUrl) => {\n  return axios.post('/adminmanage_movies/', {\n    title: movieTitle,\n    genre: movieGenre,\n    image_url: imageUrl\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => {\n    // Handle success\n    console.log('Movie added successfully:', response.data);\n    return response.data; // Return response data\n  }).catch(error => {\n    // Handle error\n    console.error('Error adding movie:', error);\n    throw error; // Throw error to catch it in the calling function\n  });\n};\nexport const updateMovie = movieTitle => {\n  return axios.put('/adminmanage_movies/', {\n    title: movieTitle\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => {\n    // Handle success\n    console.log('Movie updated successfully:', response.data);\n    return response.data; // Return response data\n  }).catch(error => {\n    // Handle error\n    console.error('Error updating movie:', error);\n    throw error; // Throw error to catch it in the calling function\n  });\n};\nexport const deleteMovie = movieTitle => {\n  return axios.delete(`/adminmanage_movies/`, {\n    data: {\n      title: movieTitle\n    },\n    // Specify the request body with the movie title\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(response => {\n    // Handle success\n    console.log('Movie deleted successfully:', response.data);\n    return response.data; // Return response data\n  }).catch(error => {\n    // Handle error\n    console.error('Error deleting movie:', error);\n    throw error; // Throw error to catch it in the calling function\n  });\n};\nexport default function AdmindataManageMovies() {\n  // No need to return JSX from this component\n  return null;\n}\n_c = AdmindataManageMovies;\nvar _c;\n$RefreshReg$(_c, \"AdmindataManageMovies\");","map":{"version":3,"names":["React","axios","tocken","setToken","useState","useEffect","accessToken","localStorage","getItem","console","log","addMovie","movieTitle","movieGenre","imageUrl","post","title","genre","image_url","headers","Authorization","token","then","response","data","catch","error","updateMovie","put","deleteMovie","delete","AdmindataManageMovies","_c","$RefreshReg$"],"sources":["/Users/Tharun/PycharmProjects/SE/full_stack/django-rest-framework-using-reactjs--project/frontend/ecommerce/src/components/admindataManagemovies.js"],"sourcesContent":["import React from 'react';\nimport axios from 'axios';\n\n\nconst [tocken , setToken] = useState('');\nuseEffect(() => {\n    const accessToken = localStorage.getItem(\"accessToken\");\n\n    if (accessToken) {\n      // Set the success token value\n      setToken(accessToken);\n    } else {\n      // Display message to the user if not logged in\n      console.log(\"You haven't been logged in.\");\n    }\n  }, []);\n\nexport const addMovie = (movieTitle, movieGenre, imageUrl) => {\n  return axios.post('/adminmanage_movies/', {\n    title: movieTitle,\n    genre: movieGenre,\n    image_url: imageUrl\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\"\n    }\n  })\n  .then(response => {\n    // Handle success\n    console.log('Movie added successfully:', response.data);\n    return response.data; // Return response data\n  })\n  .catch(error => {\n    // Handle error\n    console.error('Error adding movie:', error);\n    throw error; // Throw error to catch it in the calling function\n  });\n};\n\nexport const updateMovie = (movieTitle) => {\n  return axios.put('/adminmanage_movies/', {\n    title: movieTitle\n  }, {\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-Type\": \"application/json\"\n    }\n  })\n  .then(response => {\n    // Handle success\n    console.log('Movie updated successfully:', response.data);\n    return response.data; // Return response data\n  })\n  .catch(error => {\n    // Handle error\n    console.error('Error updating movie:', error);\n    throw error; // Throw error to catch it in the calling function\n  });\n};\n\nexport const deleteMovie = (movieTitle) => {\n  return axios.delete(`/adminmanage_movies/`,\n\n    {\n        data: { title: movieTitle }, // Specify the request body with the movie title\n        headers: {\n          Authorization: `Bearer ${token}`,\n          \"Content-Type\": \"application/json\"\n        },\n  })\n  .then(response => {\n    // Handle success\n    console.log('Movie deleted successfully:', response.data);\n    return response.data; // Return response data\n  })\n  .catch(error => {\n    // Handle error\n    console.error('Error deleting movie:', error);\n    throw error; // Throw error to catch it in the calling function\n  });\n};\n\nexport default function AdmindataManageMovies() {\n  // No need to return JSX from this component\n  return null;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}