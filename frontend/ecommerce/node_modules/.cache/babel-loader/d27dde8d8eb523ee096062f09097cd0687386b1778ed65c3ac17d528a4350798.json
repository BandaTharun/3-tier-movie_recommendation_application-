{"ast":null,"code":"var _jsxFileName = \"/Users/Tharun/PycharmProjects/SE/full_stack/django-rest-framework-using-reactjs--project/frontend/ecommerce/src/components/screens/MyListCheckbox.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { ListGroup, Form } from \"react-bootstrap\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MyListCheckbox = ({\n  movieTitle\n}) => {\n  _s();\n  const [error, setError] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const addToMyList = async () => {\n    try {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const response = await axios.post(`/mylist/`, {\n        movie: movieTitle\n      }, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`\n        }\n      });\n      const {\n        message\n      } = response.data;\n      if (response.status === 201) {\n        setSuccessMessage(message);\n        setError(\"\");\n      } else {\n        setError(\"Error adding to My List. Please try again later.\");\n        setSuccessMessage(\"\");\n      }\n    } catch (error) {\n      console.error(\"Error adding to My List:\", error);\n      setError(\"You have already added this movie to your Mylist checkout.\");\n      setSuccessMessage(\"\");\n    }\n  };\n  const handleCheckboxChange = () => {\n    addToMyList();\n  };\n  return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n    children: [/*#__PURE__*/_jsxDEV(Form.Check, {\n      type: \"checkbox\",\n      label: \"Add to My List\",\n      onChange: handleCheckboxChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-success\",\n      children: successMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 26\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(MyListCheckbox, \"jIID0ZMvVE9+Lh2mf4x02njjm3E=\");\n_c = MyListCheckbox;\nexport default MyListCheckbox;\nvar _c;\n$RefreshReg$(_c, \"MyListCheckbox\");","map":{"version":3,"names":["React","useState","ListGroup","Form","axios","jsxDEV","_jsxDEV","MyListCheckbox","movieTitle","_s","error","setError","successMessage","setSuccessMessage","addToMyList","accessToken","localStorage","getItem","response","post","movie","headers","Authorization","message","data","status","console","handleCheckboxChange","Item","children","Check","type","label","onChange","fileName","_jsxFileName","lineNumber","columnNumber","className","_c","$RefreshReg$"],"sources":["/Users/Tharun/PycharmProjects/SE/full_stack/django-rest-framework-using-reactjs--project/frontend/ecommerce/src/components/screens/MyListCheckbox.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { ListGroup, Form } from \"react-bootstrap\";\nimport axios from \"axios\";\n\nconst MyListCheckbox = ({ movieTitle }) => {\n  const [error, setError] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n\n  const addToMyList = async () => {\n    try {\n      const accessToken = localStorage.getItem(\"accessToken\");\n      const response = await axios.post(\n        `/mylist/`,\n        {\n          movie: movieTitle,\n        },  \n        {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n          },\n        }\n      );\n\n      const { message } = response.data;\n\n      if (response.status === 201) {\n        setSuccessMessage(message);\n        setError(\"\");\n      } else {\n        setError(\"Error adding to My List. Please try again later.\");\n        setSuccessMessage(\"\");\n      }\n    } catch (error) {\n      console.error(\"Error adding to My List:\", error);\n      setError(\"You have already added this movie to your Mylist checkout.\");\n      setSuccessMessage(\"\");\n    }\n  };\n\n  const handleCheckboxChange = () => {\n    addToMyList();\n  };\n\n  return (\n    <ListGroup.Item>\n      <Form.Check\n        type=\"checkbox\"\n        label=\"Add to My List\"\n        onChange={handleCheckboxChange}\n      />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n      {successMessage && <div className=\"alert alert-success\">{successMessage}</div>}\n    </ListGroup.Item>\n  );\n}\n\nexport default MyListCheckbox;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,SAAS,EAAEC,IAAI,QAAQ,iBAAiB;AACjD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,cAAc,GAAGA,CAAC;EAAEC;AAAW,CAAC,KAAK;EAAAC,EAAA;EACzC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACW,cAAc,EAAEC,iBAAiB,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAExD,MAAMa,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACF,MAAMC,WAAW,GAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC;MACvD,MAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACe,IAAI,CAC9B,UAAS,EACV;QACEC,KAAK,EAAEZ;MACT,CAAC,EACD;QACEa,OAAO,EAAE;UACPC,aAAa,EAAG,UAASP,WAAY;QACvC;MACF,CACF,CAAC;MAED,MAAM;QAAEQ;MAAQ,CAAC,GAAGL,QAAQ,CAACM,IAAI;MAEjC,IAAIN,QAAQ,CAACO,MAAM,KAAK,GAAG,EAAE;QAC3BZ,iBAAiB,CAACU,OAAO,CAAC;QAC1BZ,QAAQ,CAAC,EAAE,CAAC;MACd,CAAC,MAAM;QACLA,QAAQ,CAAC,kDAAkD,CAAC;QAC5DE,iBAAiB,CAAC,EAAE,CAAC;MACvB;IACF,CAAC,CAAC,OAAOH,KAAK,EAAE;MACdgB,OAAO,CAAChB,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDC,QAAQ,CAAC,4DAA4D,CAAC;MACtEE,iBAAiB,CAAC,EAAE,CAAC;IACvB;EACF,CAAC;EAED,MAAMc,oBAAoB,GAAGA,CAAA,KAAM;IACjCb,WAAW,CAAC,CAAC;EACf,CAAC;EAED,oBACER,OAAA,CAACJ,SAAS,CAAC0B,IAAI;IAAAC,QAAA,gBACbvB,OAAA,CAACH,IAAI,CAAC2B,KAAK;MACTC,IAAI,EAAC,UAAU;MACfC,KAAK,EAAC,gBAAgB;MACtBC,QAAQ,EAAEN;IAAqB;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC,CAAC,EACD3B,KAAK,iBAAIJ,OAAA;MAAKgC,SAAS,EAAC,oBAAoB;MAAAT,QAAA,EAAEnB;IAAK;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EAC1DzB,cAAc,iBAAIN,OAAA;MAAKgC,SAAS,EAAC,qBAAqB;MAAAT,QAAA,EAAEjB;IAAc;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAChE,CAAC;AAErB,CAAC;AAAA5B,EAAA,CAlDKF,cAAc;AAAAgC,EAAA,GAAdhC,cAAc;AAoDpB,eAAeA,cAAc;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}