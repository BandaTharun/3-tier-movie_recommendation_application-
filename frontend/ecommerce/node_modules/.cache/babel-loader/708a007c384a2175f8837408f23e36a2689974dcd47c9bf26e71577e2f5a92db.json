{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{LinkContainer}from\"react-router-bootstrap\";import{Nav}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function SignupScreen(){const[successToken,setSuccessToken]=useState(\"\");const[formData,setFormData]=useState({username:'',email:'',// Changed from Email to email\npassword:''});const[error,setError]=useState('');const[successMessage,setSuccessMessage]=useState('');const handleChange=e=>{const{name,value}=e.target;setFormData(prevData=>({...prevData,[name]:value}));};const handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post('/signup/',formData);const{data}=response;if(data&&data.message){// Display success message from the server\nsetSuccessMessage(data.message);// Reset error message\nsetError('');// Clear form data\nsetFormData({username:'',email:'',password:''});}}catch(error){setError('Failed to register. Please try again.');}};useEffect(()=>{const accessToken=localStorage.getItem(\"accessToken\");if(accessToken){// Set the success token value\nsetSuccessToken(accessToken);}else{// Display message to the user if not logged in\nconsole.log(\"You haven't been logged in.\");}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:successToken?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your'e Already a Registered User and You have Successfully logined. You can start using.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Thank you for using Movie-Recommendation.\"}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/\",children:/*#__PURE__*/_jsxs(Nav.Link,{className:\"navbar-link active\",children:[\"Home \",/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-house\"})]})})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"section\",{className:\"vh-100\",style:{backgroundColor:'#eee'},children:/*#__PURE__*/_jsx(\"div\",{className:\"container h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-center align-items-center h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12 col-xl-11\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card text-black\",style:{borderRadius:'25px'},children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-md-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4\",children:\"Signup\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-success\",children:successMessage}),/*#__PURE__*/_jsxs(\"form\",{className:\"mx-1 mx-md-4\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user fa-lg me-3 fa-fw\"}),/*#__PURE__*/_jsxs(\"div\",{\"data-mdb-input-init\":true,className:\"form-outline flex-fill mb-0\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"form3Example1c\",className:\"form-control\",name:\"username\",value:formData.username,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"form3Example1c\",children:\"User Name\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope fa-lg me-3 fa-fw\"}),/*#__PURE__*/_jsxs(\"div\",{\"data-mdb-input-init\":true,className:\"form-outline flex-fill mb-0\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"form3Example1c\",className:\"form-control\",name:\"email\",value:formData.email,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"form3Example1c\",children:\"Email\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-row align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock fa-lg me-3 fa-fw\"}),/*#__PURE__*/_jsxs(\"div\",{\"data-mdb-input-init\":true,className:\"form-outline flex-fill mb-0\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"form3Example4c\",className:\"form-control\",name:\"password\",value:formData.password,onChange:handleChange}),/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",htmlFor:\"form3Example4c\",children:\"Password\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mx-4 mb-3 mb-lg-4\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",\"data-mdb-button-init\":true,\"data-mdb-ripple-init\":true,className:\"btn btn-primary btn-lg\",children:\"Signup\"})})]}),/*#__PURE__*/_jsx(LinkContainer,{to:\"/login\",children:/*#__PURE__*/_jsxs(Nav.Link,{className:\"navbar-link active\",children:[\" \",/*#__PURE__*/_jsx(\"h5\",{children:\" If You Are the Registered User click Here \"}),\" \"]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp\",className:\"img-fluid\",alt:\"Sample image\"})})]})})})})})})})})});}export default SignupScreen;","map":{"version":3,"names":["React","useState","useEffect","axios","LinkContainer","Nav","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SignupScreen","successToken","setSuccessToken","formData","setFormData","username","email","password","error","setError","successMessage","setSuccessMessage","handleChange","e","name","value","target","prevData","handleSubmit","preventDefault","response","post","data","message","accessToken","localStorage","getItem","console","log","className","children","to","Link","style","backgroundColor","borderRadius","onSubmit","type","id","onChange","htmlFor","src","alt"],"sources":["/app/src/components/screens/SignupScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Nav } from \"react-bootstrap\";\n\nfunction SignupScreen() {\n  const [successToken, setSuccessToken] = useState(\"\");\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',       // Changed from Email to email\n    password: '',\n  });\n  const [error, setError] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post('/signup/', formData);\n      const { data } = response;\n      if (data && data.message) {\n        // Display success message from the server\n        setSuccessMessage(data.message);\n        // Reset error message\n        setError('');\n        // Clear form data\n        setFormData({\n          username: '',\n          email: '',\n          password: '',\n        });\n      }\n    } catch (error) {\n      setError('Failed to register. Please try again.');\n    }\n  };\n\n  useEffect(() => {\n    const accessToken = localStorage.getItem(\"accessToken\");\n\n    if (accessToken) {\n      // Set the success token value\n      setSuccessToken(accessToken);\n    } else {\n      // Display message to the user if not logged in\n      console.log(\"You haven't been logged in.\");\n    }\n  }, []);\n\n  return (\n    <div className=\"text-center mt-5\">\n      {successToken ? (\n        <>\n          <h2>Your'e Already a Registered User and You have Successfully logined. You can start using.</h2>\n          <p>Thank you for using Movie-Recommendation.</p>\n          <LinkContainer to=\"/\">\n            <Nav.Link className=\"navbar-link active\">Home <i className=\"fa-solid fa-house\"></i></Nav.Link>\n          </LinkContainer>\n        </>\n      ) : (\n        <>\n          <section className=\"vh-100\" style={{ backgroundColor: '#eee' }}>\n            <div className=\"container h-100\">\n              <div className=\"row d-flex justify-content-center align-items-center h-100\">\n                <div className=\"col-lg-12 col-xl-11\">\n                  <div className=\"card text-black\" style={{ borderRadius: '25px' }}>\n                    <div className=\"card-body p-md-5\">\n                      <div className=\"row justify-content-center\">\n                        <div className=\"col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1\">\n                          <p className=\"text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4\">Signup</p>\n                          {error && <div className=\"alert alert-danger\">{error}</div>}\n                          {successMessage && <div className=\"alert alert-success\">{successMessage}</div>}\n                          <form className=\"mx-1 mx-md-4\" onSubmit={handleSubmit}>\n                            <div className=\"d-flex flex-row align-items-center mb-4\">\n                              <i className=\"fas fa-user fa-lg me-3 fa-fw\"></i>\n                              <div data-mdb-input-init className=\"form-outline flex-fill mb-0\">\n                                <input\n                                  type=\"text\"\n                                  id=\"form3Example1c\"\n                                  className=\"form-control\"\n                                  name=\"username\"\n                                  value={formData.username}\n                                  onChange={handleChange}\n                                />\n                                <label className=\"form-label\" htmlFor=\"form3Example1c\">User Name</label>\n                              </div>\n                            </div>\n\n                            <div className=\"d-flex flex-row align-items-center mb-4\">\n                              <i className=\"fas fa-envelope fa-lg me-3 fa-fw\"></i>\n                              <div data-mdb-input-init className=\"form-outline flex-fill mb-0\">\n                                <input\n                                  type=\"email\"\n                                  id=\"form3Example1c\"\n                                  className=\"form-control\"\n                                  name=\"email\"\n                                  value={formData.email}\n                                  onChange={handleChange}\n                                />\n                                <label className=\"form-label\" htmlFor=\"form3Example1c\">Email</label>\n                              </div>\n                            </div>\n\n                            <div className=\"d-flex flex-row align-items-center mb-4\">\n                              <i className=\"fas fa-lock fa-lg me-3 fa-fw\"></i>\n                              <div data-mdb-input-init className=\"form-outline flex-fill mb-0\">\n                                <input\n                                  type=\"password\"\n                                  id=\"form3Example4c\"\n                                  className=\"form-control\"\n                                  name=\"password\"\n                                  value={formData.password}\n                                  onChange={handleChange}\n                                />\n                                <label className=\"form-label\" htmlFor=\"form3Example4c\">Password</label>\n                              </div>\n                            </div>\n                            <div className=\"d-flex justify-content-center mx-4 mb-3 mb-lg-4\">\n                              <button type=\"submit\" data-mdb-button-init data-mdb-ripple-init className=\"btn btn-primary btn-lg\">Signup</button>\n                            </div>\n                          </form>\n                          <LinkContainer to=\"/login\">\n                            <Nav.Link className=\"navbar-link active\"> <h5> If You Are the Registered User click Here </h5> </Nav.Link>\n                          </LinkContainer>\n                        </div>\n                        <div className=\"col-md-10 col-lg-6 col-xl-7 d-flex align-items-center order-1 order-lg-2\">\n                          <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/draw1.webp\" className=\"img-fluid\" alt=\"Sample image\" />\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </section>\n        </>\n      )}\n    </div>\n  );\n}\n\nexport default SignupScreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}