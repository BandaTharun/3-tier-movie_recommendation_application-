{"ast":null,"code":"import React,{useState}from'react';import{Card,ListGroup,Form,Alert}from\"react-bootstrap\";import axios from'axios';// Import axios for HTTP requests\nimport{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Mylistsscreen(_ref){let{product}=_ref;const[error,setError]=useState(\"\");const[successMessage,setSuccessMessage]=useState(\"\");const handleDelete=async()=>{try{const accessToken=localStorage.getItem(\"accessToken\");const response=await axios.delete(\"/mylist/\",{data:{movie:product.title},// Specify the request body with the movie title\nheaders:{Authorization:\"Bearer \".concat(accessToken)}});const{message}=response.data;if(response.status===200){setSuccessMessage(message);setError(\"\");window.location.reload();// Refresh the page\n}else{setError(\"Error deleting. Please try again later.\");setSuccessMessage(\"\");}}catch(error){console.error(\"Error deleting movie:\",error);setError(\"An error occurred. Please try again later.\");setSuccessMessage(\"\");}};return/*#__PURE__*/_jsxs(Card,{className:\"my-3 p-3 rounded\",children:[successMessage&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:successMessage}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(Link,{to:\"/movies/\".concat(product.id,\"/\"),children:/*#__PURE__*/_jsx(Card.Img,{src:product.image_url,style:{height:\"400px\"}// Set the height directly in style attribute\n,className:\"card-image\"})}),/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Link,{to:\"/movies/\".concat(product.id,\"/\"),className:\"text-dark\",children:/*#__PURE__*/_jsx(Card.Title,{as:\"h3\",children:/*#__PURE__*/_jsx(Link,{to:\"/movies/\".concat(product.id,\"/\"),className:\"text-dark\",children:product.title})})}),/*#__PURE__*/_jsx(ListGroup,{variant:\"flush\",children:/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsx(Form.Check,{type:\"checkbox\",label:\"Click on the Checkbox To Delete the Movie from MyList\",onChange:handleDelete// Pass handleDelete function as onChange callback\n,style:{color:'blue'}})})})]})]});}export default Mylistsscreen;","map":{"version":3,"names":["React","useState","Card","ListGroup","Form","Alert","axios","Link","jsx","_jsx","jsxs","_jsxs","Mylistsscreen","_ref","product","error","setError","successMessage","setSuccessMessage","handleDelete","accessToken","localStorage","getItem","response","delete","data","movie","title","headers","Authorization","concat","message","status","window","location","reload","console","className","children","variant","to","id","Img","src","image_url","style","height","Body","Title","as","Item","Check","type","label","onChange","color"],"sources":["/app/src/components/Mylistsscreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, ListGroup, Form, Alert } from \"react-bootstrap\";\nimport axios from 'axios'; // Import axios for HTTP requests\nimport { Link } from 'react-router-dom';\n\n\n\nfunction Mylistsscreen({ product }) {\n    const [error, setError] = useState(\"\");\n    const [successMessage, setSuccessMessage] = useState(\"\");\n\n    const handleDelete = async () => {\n        try {\n\n            const accessToken = localStorage.getItem(\"accessToken\");\n            const response = await axios.delete(\n                `/mylist/`,\n                {\n                    data: { movie: product.title }, // Specify the request body with the movie title\n                    headers: {\n                        Authorization: `Bearer ${accessToken}`,\n                    },\n                }\n            );\n\n            const { message } = response.data;\n\n            if (response.status === 200) {\n                setSuccessMessage(message);\n                setError(\"\");\n                window.location.reload(); // Refresh the page\n            } else {\n                setError(\"Error deleting. Please try again later.\");\n                setSuccessMessage(\"\");\n            }\n        } catch (error) {\n            console.error(\"Error deleting movie:\", error);\n            setError(\"An error occurred. Please try again later.\");\n            setSuccessMessage(\"\");\n        }\n    };\n\n    return (\n        <Card className='my-3 p-3 rounded'>\n            {successMessage && <Alert variant=\"success\">{successMessage}</Alert>}\n            {error && <Alert variant=\"danger\">{error}</Alert>}\n            <Link to={`/movies/${product.id}/`}>\n            <Card.Img\n            src={product.image_url}\n            style={{ height: \"400px\" }} // Set the height directly in style attribute\n            className=\"card-image\" />\n            </Link>\n            <Card.Body>\n                <Link to={`/movies/${product.id}/`} className='text-dark'>\n                    <Card.Title as=\"h3\">\n                        <Link to={`/movies/${product.id}/`} className='text-dark'>\n                            {product.title}\n                        </Link>\n                    </Card.Title>\n                </Link>\n                <ListGroup variant=\"flush\">\n                    <ListGroup.Item>\n                        <Form.Check\n                            type=\"checkbox\"\n                            label=\"Click on the Checkbox To Delete the Movie from MyList\"\n                            onChange={handleDelete} // Pass handleDelete function as onChange callback\n                            style={{ color: 'blue' }}\n                        />\n                    </ListGroup.Item>\n                </ListGroup>\n            </Card.Body>\n        </Card>\n    );\n}\n\nexport default Mylistsscreen;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}